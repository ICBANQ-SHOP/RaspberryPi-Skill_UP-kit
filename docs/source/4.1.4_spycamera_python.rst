4.1.4 Spy Camera
~~~~~~~~~~~~~~~~~~~~

Introduction
-----------------

Let's try to assemble a simple Spy camera with raspberry pi.

Components
----------------

.. image:: media/3.1.18components.png
  :width: 800
  :align: center

**Schematic Diagram**
-----------------------

============ ======== ======== ===
T-Board Name physical wiringPi BCM
GPIO17       Pin 11   0        17
============ ======== ======== ===

.. image:: media/1.1.18_schematic.png
   :width: 400
   :align: center

Experimental Procedures
------------------------------

**Step 1:** Build the circuit.

.. image:: media/3.1.18fritzing.png
  :width: 800
  :align: center

在进行此项目之前，你应当已经配置好摄像头。具体教程参考 :ref:`Install the camera` 。

**Step 2:** Get into the folder of the code.

.. code-block::

    cd /home/pi/raphael-kit/python/

**Step 3:** Run.

.. code-block::

    sudo python3 4.1.4_SpyCamera.py

代码运行后，PIR 会检测周围环境，如果感觉到有人经过，则摄像头会拍下照片，
拍照间隔为3S，并且会通过打印窗口显示出总共已拍的照片数量。


**Code Explanation**

.. code-block:: python

    pirVal==GPIO.HIGH:
        camera.capture('/home/pi/people%s.jpg' % i)
        print('The camera captures %s number of people' % i)
        time.sleep(3)
        i = i + 1

PIR模块每检测到一个人，raspberry pi都会拍一张照，并通过打印窗口告诉你一共拍了几张照片。每次拍照的间隔为3S。

**Phenomenon Picture**
------------------------

.. image:: media/4.1.4spycamera.jpg
   :align: center
